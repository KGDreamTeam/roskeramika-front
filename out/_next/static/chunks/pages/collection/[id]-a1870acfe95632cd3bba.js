(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{5169:function(e,n,c){"use strict";c(7294);var s=c(5893);n.Z=function(){return(0,s.jsx)("div",{className:"banner-header",children:(0,s.jsx)("img",{src:"/banner-header.svg",className:"banner-header-image",alt:"banner"})})}},6163:function(e,n,c){"use strict";c.d(n,{J4:function(){return s},$H:function(){return t},l:function(){return i}});var s=function(e,n){var c=t(n),s=c-c/100*e;return Math.round(s)},t=function(e){return Math.min.apply(Math,e.map((function(e){return e.price})))},i=function(e,n){return n-n/100*e}},1807:function(e,n,c){"use strict";c.d(n,{L:function(){return s},B:function(){return t}});var s=function(e){return Math.round(10*(e+.1))/10},t=function(e){return Math.round(10*(e-.1))/10}},6822:function(e,n,c){"use strict";c.r(n),c.d(n,{default:function(){return j}});var s=c(7294),t=c(8429),i=c(1508),a=c(4765),r=c(5893),l=function(e){var n=e.className;return(0,r.jsxs)("svg",{className:n,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M9.99992 0.833313C4.93742 0.833313 0.833252 4.93727 0.833252 9.99998C0.833252 15.0627 4.93742 19.1666 9.99992 19.1666C15.0624 19.1666 19.1666 15.0627 19.1666 9.99998C19.1666 4.93727 15.0624 0.833313 9.99992 0.833313ZM9.99992 17.5C5.85783 17.5 2.49992 14.1421 2.49992 9.99998C2.49992 5.8579 5.85783 2.49998 9.99992 2.49998C14.142 2.49998 17.4999 5.8579 17.4999 9.99998C17.4999 14.1421 14.142 17.5 9.99992 17.5Z",fill:"#26D093"}),(0,r.jsx)("path",{d:"M13.3924 7.74378C13.067 7.41858 12.5393 7.41858 12.2139 7.74378L9.26765 10.6902L8.08911 9.5117C7.76369 9.18628 7.23619 9.18628 6.91057 9.5117C6.58515 9.83712 6.58515 10.3648 6.91057 10.6905L8.67807 12.4577C9.00348 12.7832 9.5314 12.7832 9.85682 12.4577L13.3922 8.92233C13.7179 8.59691 13.7183 8.06941 13.3924 7.74378Z",fill:"#26D093"})]})},o=function(e){return(0,r.jsx)("div",{onClick:function(){e.chooseImg(e.src)},className:e.src===e.choosenImg?"small-image-wrapper selected":"small-image-wrapper",children:(0,r.jsx)("img",{className:"img",src:e.src,alt:e.src})})},u=function(e){var n=(0,s.useState)(""),c=n[0],t=n[1],u=(0,s.useState)(""),d=u[0],m=u[1];(0,s.useEffect)((function(){m(e.img[0]);var n=null===e||void 0===e?void 0:e.img.filter((function(e){return e}));t((0,i.Z)(n))}),[e.img]);var p=function(e){m(e)};return(0,r.jsxs)("div",{className:"collection-info",children:[(0,r.jsx)("h2",{className:"collection-name",children:e.name}),(0,r.jsxs)("div",{className:"content",children:[(0,r.jsxs)("div",{className:"images",children:[(0,r.jsxs)("div",{className:"photo-wrapper",children:[(0,r.jsx)(a.d,{defaultScale:1,defaultPositionX:100,defaultPositionY:200,children:(0,r.jsx)(a.U,{children:(0,r.jsx)("img",{src:d,className:"photo",alt:"".concat(e.name)})})}),(0,r.jsx)("div",{className:"img-text",children:"\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0430 \u0434\u043b\u044f \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f"})]}),(0,r.jsx)("div",{className:"small-images",children:c&&c.map((function(e,n){return(0,r.jsx)(o,{index:n,choosenImg:d,chooseImg:p,src:e},e)}))})]}),(0,r.jsxs)("div",{className:"all-info-wrapper",children:[(0,r.jsxs)("div",{className:"price-wrapper",children:[(0,r.jsx)("span",{className:"price-text",children:"\u0426\u0435\u043d\u0430: "}),(0,r.jsxs)("span",{className:"price",children:[e.price," \u0441\u043e\u043c\u043e\u0432"]})]}),(0,r.jsxs)("div",{className:"monufacturer-wrapper",children:[(0,r.jsx)("span",{className:"manufacturer-text",children:"\u041f\u0440\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c: "}),(0,r.jsx)("span",{className:"manufacturer",children:e.manufacturer})]}),(0,r.jsxs)("div",{className:"size-wrapper",children:[(0,r.jsx)("span",{className:"size-text",children:"\u0420\u0430\u0437\u043c\u0435\u0440: "}),(0,r.jsx)("span",{className:"size",children:e.size})]}),(0,r.jsxs)("div",{className:"surface-wrapper",children:[(0,r.jsx)("span",{className:"surface-text",children:"\u041f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u044c: "}),(0,r.jsx)("span",{className:"surface",children:e.surface})]}),(0,r.jsxs)("div",{className:"style-wrapper",children:[(0,r.jsx)("span",{className:"style-text",children:"\u0421\u0442\u0438\u043b\u044c: "}),(0,r.jsx)("span",{className:"style",children:e.material})]}),(0,r.jsx)("div",{className:"dots"}),(0,r.jsxs)("div",{className:"post-wrapper",children:[(0,r.jsx)("div",{className:"post",children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f:"}),(0,r.jsxs)("div",{className:"collection-is-true",children:[(0,r.jsx)(l,{className:"green-circle"}),(0,r.jsx)("span",{className:"dostupno",children:"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430"})]})]})]})]})]})},d=c(1807),m=c(6413),p=function(e){(0,t.v9)((function(e){return e.basket.itemsPrices}));var n=(0,t.I0)(),c=(0,s.useState)(0),i=c[0],a=c[1],l=(0,s.useState)(0),o=l[0],u=l[1];return(0,s.useEffect)((function(){var n=e.price*i;u(n.toFixed(1))}),[i]),(0,r.jsxs)("div",{className:"collection-product",children:[(0,r.jsx)("div",{className:"image-wrapper",children:(0,r.jsx)("img",{src:e.img,alt:"product",className:"image-product"})}),(0,r.jsxs)("div",{className:"product-wrapper",children:[(0,r.jsxs)("div",{className:"type-wrapper",children:[(0,r.jsx)("div",{className:"type-text",children:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b:"}),(0,r.jsx)("div",{className:"type",children:e.artikul})]}),(0,r.jsxs)("div",{className:"type-wrapper",children:[(0,r.jsx)("div",{className:"type-text",children:"\u0422\u0438\u043f:"}),(0,r.jsx)("div",{className:"type",children:e.material})]}),(0,r.jsxs)("div",{className:"view-wrapper",children:[(0,r.jsx)("div",{className:"view-text",children:"\u0412\u0438\u0434:"}),(0,r.jsx)("div",{className:"view",children:e.surface})]}),(0,r.jsxs)("div",{className:"size-wrapper",children:[(0,r.jsx)("div",{className:"size-text",children:"\u0420\u0430\u0437\u043c\u0435\u0440:"}),(0,r.jsx)("div",{className:"size",children:"".concat(e.width,"x").concat(e.length)})]}),(0,r.jsx)("div",{className:"dots",children:" "}),(0,r.jsxs)("div",{className:"quantity-wrapper",children:[(0,r.jsx)("span",{className:"quantity",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"}),(0,r.jsx)("button",{disabled:i<=0,className:"minus",onClick:function(){a((function(e){return(0,d.B)(e)}))},children:"-"}),(0,r.jsx)("input",{value:i,type:"number",min:0,className:"input-quantity",onChange:function(e){return function(e){a(e.target.value)}(e)},step:.01}),(0,r.jsx)("button",{className:"plus",onClick:function(){a((function(e){return(0,d.L)(e)}))},children:"+"}),(0,r.jsxs)("span",{className:"m",children:["m",(0,r.jsx)("sup",{className:"sup",children:"2"})]})]}),(0,r.jsx)("div",{className:"dots",children:" "}),(0,r.jsxs)("div",{className:"price-wrapper",children:[(0,r.jsx)("div",{className:"price-text",children:"\u0426\u0435\u043d\u0430:"}),(0,r.jsxs)("div",{className:"price",children:[(0,r.jsx)("strong",{children:e.price}),(0,r.jsx)("span",{className:"som",children:"\u0421\u043e\u043c"})]})]}),(0,r.jsxs)("div",{className:"price-wrapper",children:[(0,r.jsx)("div",{className:"price-text",children:"\u0421\u0443\u043c\u043c\u0430:"}),(0,r.jsxs)("div",{className:"price",children:[o,(0,r.jsx)("span",{className:"som",children:"\u0421\u043e\u043c"})]})]}),(0,r.jsx)("button",{className:"btn-offer",onClick:function(){n((0,m.bC)([{id:e.id,artikul:e.artikul,image1:e.img,price:e.price,subcategory:e.subcategory,manufacturer:e.manufacturer,name:e.name,width:e.width,surface:e.surface,material:e.material,length:e.length,sum:o,count:i}])),n((0,m.g8)({id:e.id,price:o}))},disabled:i<=0,children:"\u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},f=function(e){return(0,r.jsxs)("div",{className:"collection-products-wrapper",children:[(0,r.jsxs)("h2",{children:["\u0422\u043e\u0432\u0430\u0440\u044b \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 ",e.collection]}),(0,r.jsx)("div",{className:"collection-products",children:0!==e.items.length?e.items.map((function(e){return(0,r.jsx)(p,{img:e.image1,material:e.material,name:e.name,surface:e.surface,width:e.width,length:e.length,price:e.price,id:e.id,artikul:e.artikul,subcategory:e.subcategorie.name,manufacturer:e.manufacturer.company_name},e.id)})):(0,r.jsx)("div",{className:"no-products",children:"\u041d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})})]})},h=c(5169),x=c(7098),v=c(1163),j=function(){var e=(0,t.I0)(),n=(0,t.v9)((function(e){return e.collections.oneCollection})),c=(0,v.useRouter)().query.id;return(0,s.useEffect)((function(){e((0,x.ez)(c)),document.title="\u0414\u0435\u0442\u0430\u043b\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}),[c]),(0,r.jsxs)("div",{className:"collection",children:[(0,r.jsx)(h.Z,{}),n?(0,r.jsx)(u,{id:c,img:[n.image1,null===n||void 0===n?void 0:n.image2,null===n||void 0===n?void 0:n.image3,null===n||void 0===n?void 0:n.image4,null===n||void 0===n?void 0:n.image5,null===n||void 0===n?void 0:n.image6],name:n.name,products:n.products,price:n.price,size:n.size,material:n.material,manufacturer:n.man,surface:n.surface}):null,n.products?(0,r.jsx)(f,{items:n.products,collection:n.name}):null]})}},7098:function(e,n,c){"use strict";c.d(n,{ez:function(){return d},pU:function(){return m},Ss:function(){return p}});var s=c(1508),t=c(2809),i=c(393),a=c(6163),r=c(7199),l=c(6413);function o(e,n){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),c.push.apply(c,s)}return c}function u(e){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?o(Object(c),!0).forEach((function(n){(0,t.Z)(e,n,c[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(c,n))}))}return e}var d=function(e){return function(n){var c="/apiv1/collection/".concat(e,"/"),t="/apiv1/products/?categorie=&subcategorie=&collection=".concat(e);i.Z.get(c).then((function(e){i.Z.get(t).then((function(c){var t,i,r=(0,a.$H)(e.data.products),l=c.data.filter((function(e){return!0===e.main_tovar}));0!==l.length?(t="".concat(l[0].width,"x").concat(l[0].length),i="".concat(l[0].manufacturer.company_name)):(t="no main product",i="no main product"),n(f({collection:u(u({},e.data),{},{size:t,price:r,man:i}),products:(0,s.Z)(c.data)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},m=function(e){return function(n){i.Z.get("/apiv1/products/?collection=".concat(e)).then((function(e){console.log(e.data);for(var c=e.data,s=0;s<c.length;s++)0!==c[s].collection.discount?(c[s].price=(0,a.l)(c[s].collection.discount,c[s].price),c[s].discount=c[s].collection.discount):c[s].price=(0,a.l)(c[s].discount,c[s].price);n((0,l.bC)(c))})).catch((function(e){console.log(e)}))}},p=function(e){return function(n){i.Z.get("/apiv1/collection/?categories=&subcategorieis=".concat(e)).then((function(e){n(j(e.data));var c=function(e){var n=e.filter((function(e){return!0===e.labelnew})),c=e.filter((function(e){return!0===e.labelhit})),t=e.filter((function(e){return!1===e.labelhit&&!1===e.labelnew}));return{newCollections:(0,s.Z)(n),hitCollections:(0,s.Z)(c),otherCollections:(0,s.Z)(t)}}(e.data);n(h(c.newCollections)),n(x(c.hitCollections)),n(v(c.otherCollections))})).catch((function(e){console.log(e)}))}},f=function(e){return{type:r.sN,payload:e}},h=function(e){return{type:r.F_,payload:e}},x=function(e){return{type:r.d9,payload:e}},v=function(e){return{type:r.Bv,payload:e}},j=function(e){return{type:r.N,payload:e}}},4075:function(e,n,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collection/[id]",function(){return c(6822)}])}},function(e){e.O(0,[765,774,888,179],(function(){return n=4075,e(e.s=n);var n}));var n=e.O();_N_E=n}]);