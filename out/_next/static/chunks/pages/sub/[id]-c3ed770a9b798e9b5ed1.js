(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{2804:function(e,n,t){"use strict";t.d(n,{N:function(){return i}});var c=t(5893),i=function(e){var n=e.className;return(0,c.jsx)("svg",{className:n,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.6214 6.15385L14.5882 1.74615C14.3463 0.719695 13.4796 -6.06116e-05 12.4855 3.82832e-09H7.51445C6.52041 -6.06116e-05 5.65373 0.719695 5.41185 1.74615L4.37861 6.15385H0L2.8396 18.2538C3.08148 19.2803 3.94816 20.0001 4.9422 20H15.0578C16.0518 20.0001 16.9185 19.2803 17.1604 18.2538L20 6.15385H15.6214ZM9.27746 13.8462V18.4615H7.70954L6.89306 13.8462H9.27746ZM6.62572 12.3077L5.80925 7.69231H9.27746V12.3077H6.62572ZM10.7225 13.8462H13.1069L12.2905 18.4615H10.7225V13.8462ZM10.7225 12.3077V7.69231H14.1908L13.3743 12.3077H10.7225ZM15.6575 7.69231H18.1503L17.0665 12.3077H14.841L15.6575 7.69231ZM6.81358 2.12308C6.8951 1.7714 7.19603 1.52791 7.53613 1.53846H12.5072C12.8473 1.52791 13.1483 1.7714 13.2298 2.12308L14.1329 6.15385H5.86705L6.81358 2.12308ZM4.34249 7.69231L5.15896 12.3077H2.93353L1.84971 7.69231H4.34249ZM4.21965 17.8769L3.2948 13.8462H5.46243L6.27168 18.4615H4.9422C4.6021 18.4721 4.30117 18.2286 4.21965 17.8769ZM15.737 17.8769C15.6594 18.2119 15.3817 18.4509 15.0578 18.4615H13.7645L14.5737 13.8462H16.7413L15.737 17.8769Z",fill:"white"})})}},5169:function(e,n,t){"use strict";t(7294);var c=t(5893);n.Z=function(){return(0,c.jsx)("div",{className:"banner-header",children:(0,c.jsx)("img",{src:"/banner-header.svg",className:"banner-header-image",alt:"banner"})})}},1925:function(e,n,t){"use strict";var c=t(7294),i=t(1664),s=(t(1216),t(8429)),r=t(6163),o=t(7098),l=t(2804),a=t(5893);n.Z=function(e){var n=(0,s.I0)(),t=(0,c.useState)(0),u=t[0],d=t[1];return(0,c.useEffect)((function(){d((0,r.$H)(e.products).toFixed(2))}),[]),(0,a.jsxs)("div",{className:"collection-for-page-wrapper",children:[(0,a.jsx)("div",{className:"image-wrapper",children:(0,a.jsx)(i.default,{className:"link-to-collection",href:"/collection/".concat(e.id),children:(0,a.jsx)("a",{className:"link-to-collection",children:(0,a.jsx)("img",{src:e.img,alt:"image of Collection",className:"collection-image"})})})}),(0,a.jsxs)("div",{className:"collection-information",children:[(0,a.jsxs)("div",{className:"collection-information-name-wrapper",children:[(0,a.jsx)(i.default,{href:"/collection/".concat(e.id),className:"name",children:(0,a.jsx)("a",{className:"name",children:e.name})}),(0,a.jsxs)("div",{className:"to-basket",onClick:function(){n((0,o.pU)(e.id))},children:[(0,a.jsx)(l.N,{className:"basket-mini"}),"\u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})]}),(0,a.jsxs)("div",{className:"collection-information-price-wrapper",children:[(0,a.jsx)("div",{className:"price-text",children:"\u0426\u0435\u043d\u0430"}),(0,a.jsxs)("div",{className:"price",children:["\u043e\u0442 ",u," C"]})]})]}),(0,a.jsx)("div",{className:""})]})}},6163:function(e,n,t){"use strict";t.d(n,{J4:function(){return c},$H:function(){return i},l:function(){return s}});var c=function(e,n){var t=i(n),c=t-t/100*e;return Math.round(c)},i=function(e){return Math.min.apply(Math,e.map((function(e){return e.price})))},s=function(e,n){return n-n/100*e}},8104:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var c=t(7294),i=t(8429),s=t(7098),r=t(5169),o=t(1925),l=t(1231),a=t(5059),u=t(5893),d=function(e){var n=e.className;return(0,u.jsx)("svg",{className:n,stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})},f=function(e){return(0,u.jsx)("div",{className:e.class?"checkbox-item catalog":"checkbox-item",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",value:e.value,checked:e.checked,onChange:e.change,name:e.formName,className:"checkbox-item-checkbox"}),e.name," ",e.count&&(0,u.jsxs)("span",{children:[" (",e.count,")"]})]})})},m=t(6798),h=function(){var e=(0,c.useState)(!1),n=e[0],t=e[1],s=(0,c.useState)(!1),r=s[0],o=s[1],h=(0,c.useState)(!1),p=h[0],x=h[1],v=(0,c.useState)(!1),j=v[0],N=v[1],g=(0,i.v9)((function(e){return{sizeFilter:e.filters.size,usageFilter:e.filters.usage,surfaceFilter:e.filters.surface,catalog:e.filters.catalog,filters:e.filters,products:e.products.products}})),w=g.sizeFilter,b=g.usageFilter,C=g.surfaceFilter,k=g.catalog,y=g.filters,Z=g.products,H=(0,i.I0)(),L=function(e){H((0,l.Pt)({name:e.target.name,value:e.target.value}))};return(0,c.useEffect)((function(){H((0,l.Bb)())}),[]),(0,c.useEffect)((function(){var e=(0,a.PW)(w),n=(0,a.PW)(b),t=(0,a.PW)(C),c=(0,a.PW)(k);if(e||n||t||c){H((0,l.Jv)(!0));var i=(0,a.$u)(Z,y);H((0,m.gu)(i))}else H((0,l.Jv)(!1))}),[w,b,C,k]),(0,u.jsxs)("div",{className:"filter",children:[(0,u.jsx)("div",{className:"filter-title",children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),(0,u.jsx)("div",{className:"wrapper",children:(0,u.jsxs)("div",{className:"filters",children:[(0,u.jsxs)("div",{className:"filter-item",children:[(0,u.jsxs)("div",{className:"filter-text",onClick:function(){t((function(e){return!e}))},children:[(0,u.jsx)("p",{children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),(0,u.jsx)(d,{className:n?"filter-more act":"filter-more"})]}),(0,u.jsx)("div",{className:n?"dropdown-options-filter show":"dropdown-options-filter",children:w&&w.map((function(e,n){return(0,u.jsx)(f,{change:L,checked:e.checked,formName:"size",name:e.name,value:n,count:e.count},n)}))})]}),(0,u.jsxs)("div",{className:"filter-item",children:[(0,u.jsxs)("div",{className:"filter-text",onClick:function(){o((function(e){return!e}))},children:[(0,u.jsx)("p",{children:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),(0,u.jsx)(d,{className:r?"filter-more act":"filter-more"})]}),(0,u.jsx)("div",{className:r?"dropdown-options-filter show":"dropdown-options-filter",children:b?b.map((function(e,n){return(0,u.jsx)(f,{change:L,checked:e.checked,formName:"usage",name:e.name,value:n,count:e.count},n)})):(0,u.jsx)("div",{children:"no"})})]}),(0,u.jsxs)("div",{className:"filter-item",children:[(0,u.jsxs)("div",{className:"filter-text",onClick:function(){x((function(e){return!e}))},children:[(0,u.jsx)("p",{children:"\u041f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u044c"}),(0,u.jsx)(d,{className:p?"filter-more act":"filter-more"})]}),(0,u.jsx)("div",{className:p?"dropdown-options-filter show":"dropdown-options-filter",children:C?C.map((function(e,n){return(0,u.jsx)(f,{change:L,checked:e.checked,formName:"surface",name:e.name,value:n,count:e.count},n)})):(0,u.jsx)("div",{children:"no"})})]}),(0,u.jsxs)("div",{className:"filter-item",children:[(0,u.jsxs)("div",{className:"filter-text",onClick:function(){N((function(e){return!e}))},children:[(0,u.jsx)("p",{children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),(0,u.jsx)(d,{className:j?"filter-more act":"filter-more"})]}),(0,u.jsx)("div",{className:j?"dropdown-options-filter show":"dropdown-options-filter",children:k?k.map((function(e,n){return(0,u.jsx)(f,{change:L,checked:e.checked,formName:"catalog",name:e.name,value:n,class:"catalog"},n)})):(0,u.jsx)("div",{children:"no"})})]}),(0,u.jsx)("div",{className:"filter-item",children:(0,u.jsx)("div",{className:"reset-filter",onClick:function(){H((0,l.sx)())},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0424\u0438\u043b\u044c\u0442\u0440"})})]})})]})},p=t(1163),x=function(e){var n=(0,i.v9)((function(e){return{sub:e.kategori.subCategories,newCollections:e.collections.newCollections,hitCollections:e.collections.hitCollections,otherCollections:e.collections.otherCollections,showFiltered:e.filters.show,filteredProducts:e.products.filteredProducts}})),t=n.sub,l=n.newCollections,a=n.hitCollections,d=n.otherCollections,f=n.showFiltered,m=n.filteredProducts,x=(0,i.I0)(),v=(0,p.useRouter)().query.id,j=(0,c.useState)(""),N=j[0],g=j[1],w=(0,c.useState)({}),b=w[0],C=w[1];return(0,c.useEffect)((function(){for(var e=0;e<t.length;e++)parseInt(t[e].id)===+v&&g(t[e].name);x((0,s.Ss)(v))}),[t,v]),(0,c.useEffect)((function(){document.title=N}),[N]),(0,u.jsxs)("div",{className:"sub-category-page",children:[(0,u.jsx)(r.Z,{}),(0,u.jsx)(h,{filteredCollections:b,setFilteredCollections:C,index:v}),(0,u.jsx)("div",{className:"sub-category-page-wrapper",children:(0,u.jsx)("div",{className:"background",children:(0,u.jsx)("div",{className:"container-width",children:f?(0,u.jsxs)("div",{className:"others-wrapper",children:[(0,u.jsx)("h4",{className:"coll-mini-title",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435:"}),(0,u.jsx)("div",{className:"others",children:m?m.map((function(e){return(0,u.jsx)(o.Z,{img:e.collection.image1,labelnew:e.collection.labelnew,price:e.price,name:e.collection.name,id:e.collection.id,sales:e.discount,products:[{price:e.price}]},e.collection.id)})):(0,u.jsx)("div",{className:"no-items",children:"more"})})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:"sub-title",children:N}),(0,u.jsxs)("div",{className:"sub-collections-wrapper",children:[(0,u.jsx)("h4",{className:"coll-mini-title",children:"\u041d\u043e\u0432\u0438\u043d\u043a\u0438:"}),(0,u.jsx)("div",{className:"sub-collections",children:l?l.map((function(e){return(0,u.jsx)(o.Z,{img:e.image1,labelnew:e.labelnew,name:e.name,id:e.id,sales:e.discount,products:e.products},e.id)})):(0,u.jsx)("div",{className:"no-items",children:"more"})})]}),(0,u.jsxs)("div",{className:"sales-hits-wrapper",children:[(0,u.jsx)("h4",{className:"coll-mini-title",children:"\u0425\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0436:"}),(0,u.jsx)("div",{className:"sales-hits",children:a?a.map((function(e){return(0,u.jsx)(o.Z,{img:e.image1,labelnew:e.labelnew,price:e.price,name:e.name,id:e.id,sales:e.discount,products:e.products},e.id)})):(0,u.jsx)("div",{className:"no-items",children:"more"})})]}),(0,u.jsxs)("div",{className:"others-wrapper",children:[(0,u.jsx)("h4",{className:"coll-mini-title",children:"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435:"}),(0,u.jsx)("div",{className:"others",children:d?d.map((function(e){return(0,u.jsx)(o.Z,{img:e.image1,labelnew:e.labelnew,price:e.price,name:e.name,id:e.id,sales:e.discount,products:e.products},e.id)})):(0,u.jsx)("div",{className:"no-items",children:"more"})})]})]})})})})]})}},7098:function(e,n,t){"use strict";t.d(n,{ez:function(){return d},pU:function(){return f},Ss:function(){return m}});var c=t(1508),i=t(2809),s=t(393),r=t(6163),o=t(7199),l=t(6413);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,c)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(e){return function(n){var t="/apiv1/collection/".concat(e,"/"),i="/apiv1/products/?categorie=&subcategorie=&collection=".concat(e);s.Z.get(t).then((function(e){s.Z.get(i).then((function(t){var i,s,o=(0,r.$H)(e.data.products),l=t.data.filter((function(e){return!0===e.main_tovar}));0!==l.length?(i="".concat(l[0].width,"x").concat(l[0].length),s="".concat(l[0].manufacturer.company_name)):(i="no main product",s="no main product"),n(h({collection:u(u({},e.data),{},{size:i,price:o,man:s}),products:(0,c.Z)(t.data)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},f=function(e){return function(n){s.Z.get("/apiv1/products/?collection=".concat(e)).then((function(e){console.log(e.data);for(var t=e.data,c=0;c<t.length;c++)0!==t[c].collection.discount?(t[c].price=(0,r.l)(t[c].collection.discount,t[c].price),t[c].discount=t[c].collection.discount):t[c].price=(0,r.l)(t[c].discount,t[c].price);n((0,l.bC)(t))})).catch((function(e){console.log(e)}))}},m=function(e){return function(n){s.Z.get("/apiv1/collection/?categories=&subcategorieis=".concat(e)).then((function(e){n(j(e.data));var t=function(e){var n=e.filter((function(e){return!0===e.labelnew})),t=e.filter((function(e){return!0===e.labelhit})),i=e.filter((function(e){return!1===e.labelhit&&!1===e.labelnew}));return{newCollections:(0,c.Z)(n),hitCollections:(0,c.Z)(t),otherCollections:(0,c.Z)(i)}}(e.data);n(p(t.newCollections)),n(x(t.hitCollections)),n(v(t.otherCollections))})).catch((function(e){console.log(e)}))}},h=function(e){return{type:o.sN,payload:e}},p=function(e){return{type:o.F_,payload:e}},x=function(e){return{type:o.d9,payload:e}},v=function(e){return{type:o.Bv,payload:e}},j=function(e){return{type:o.N,payload:e}}},478:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sub/[id]",function(){return t(8104)}])}},function(e){e.O(0,[216,774,888,179],(function(){return n=478,e(e.s=n);var n}));var n=e.O();_N_E=n}]);